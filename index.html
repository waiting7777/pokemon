<html>
<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>

    <script>

        var type_map = {
            'Grass' : '草',
            'Poison' : '毒',
            'Fire' : '火',
            'Flying' : '飛行',
            'Water' : '水',
            'Bug' : '蟲',
            'Normal' : '普通',
            'Electric' : '電',
            'Ground' : '地',
            'Fairy' : '妖精',
            'Fighting' : '格鬥',
            'Psychic' : '超能力',
            'Rock' : '岩',
            'Steel' : '鋼',
            'Ice' : '冰',
            'Ghost' : '鬼',
            'Dragon' : '龍',
            'Dark' : '暗'
        }

        $(document).ready(function(){

            d3.csv('data.csv', function(data){
                console.log(data);
                for(i = 0; i < data.length; i++){

                    temp = '<tr>';
                    temp += '<td>' + data[i]['PokemonId'] + '</td>';
                    temp += '<td><img src="image/pokemon/' + data[i]['PokemonId'] + '.png" ></td>';
                    temp += '<td>' + data[i]['NameEn'] + '</td>';
                    temp += '<td>' + data[i]['NameTw'] + '</td>';
                    temp += '<td>';
                    split_temp = data[i]['Type'].split(' ');
                    for(j in split_temp){
                        if(j > 0){
                            temp += ', ';
                        }
                        console.log(split_temp[j]);
                        temp += type_map[split_temp[j]];
                    }
                    temp += '<td>' + data[i]['MaxCp'] + '</td>';
                    temp += '</tr>';

                    $('tbody').append(temp);
                }

            })

        });

    </script>

    <title>Pokemon Data</title>
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1>Pokemon Go Database</h1>
            <h2 class="text-info">神奇寶貝資料庫</h2>
        </div>
        <div class="table-contain">
            <table class="table table-bordered table-hover table-striped">
                <thead>
                    <tr>
                        <th>Pokemon Id</th>
                        <th>Pokemon</th>
                        <th>Name En</th>
                        <th>Name Tw</th>
                        <th>Type</th>
                        <th>Max Cp</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
</body>


</html>
